{% extends 'base.html' %}
{% block conteudo %}
    <link rel="stylesheet" href="/static/movimentacoes.css">

    <div style="background: linear-gradient(#3E56A6, #182140); height: 645px">
        <h1 class="text-center text-light">Controle de Estoque</h1>
        <div class="pai">
            <div class="container1">
                <div class="text-center container-fluid p-2">
                    <p><strong>Quantidade de produtos:</strong></p>
                    <p>{{ quantidade_produtos }}</p> <!-- Exibir a quantidade de produtos -->
                </div>
            </div>
            <div class="container2">
                <div class="text-center container-fluid p-2">
                    <p><strong>Custo do estoque:</strong></p>
                    <p>{{ custo_estoque }}</p> <!-- Exibir o custo do estoque -->
                </div>
            </div>
            <div class="container3">
                <div class="text-center container-fluid p-2 ">
                    <p><strong>Valor do estoque:</strong></p>
                    <p>{{ valor_estoque }}</p> <!-- Exibir o valor do estoque -->
                </div>
            </div>
            <div class="container4">
                <div class="text-center container-fluid p-2">
                    <p><strong>Lucro do estoque:</strong></p>
                    <p>{{ lucro_estoque }}</p> <!-- Exibir o lucro do estoque -->
                </div>
            </div>
        </div>

        <hr>

        <div class="tabela mt-4 p-3">
            <table class="table table-primary table-striped table-hover table-bordered table-sm caption-top align-content-between">

                <thead>
                <tr>
                    <th class="text-center" scope="col">Id</th>
                    <th class="text-center" scope="col">Produto</th>
                    <th class="text-center" scope="col">Quantidade</th>
                    <th class="text-center" scope="col">Data</th>
                    <th class="text-center" scope="col">Funcionário</th>
                    <th class="text-center" scope="col">Status</th>
                </tr>
                </thead>

                <tbody>
                {% if var_movimentacao %}
                    {% for movimentacao in var_movimentacao %}
                        <tr>
                            <td class="text-center">{{ movimentacao.id_movimentacao }}</td>
                            <td class="text-center">{{ movimentacao.id_produto }}</td>
                            <td class="text-center">{{ movimentacao.quantidade_movimentacao }}</td>
                            <td class="text-center">{{ movimentacao.data_movimentacao }}</td>
                            <td class="text-center">{{ movimentacao.id_funcionario }}</td>
                            <td class="text-center">
                                {% if movimentacao.tipo_movimentacao == True %}
                                    <img src="/static/entrada.png" alt="Entrada" class="img-fluid"
                                         style="width: 30px; height: auto;">
                                {% elif movimentacao.tipo_movimentacao == False %}
                                    <img src="/static/saida.png" alt="Saída" class="img-fluid"
                                         style="width: 30px; height: auto;">
                                {% else %}
                                    <span>N/A</span>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="8" class="text-center">Nenhuma movimentação registrada!</td>
                    </tr>
                {% endif %}
                </tbody>

            </table>
        </div>
    </div>
{% endblock conteudo %}